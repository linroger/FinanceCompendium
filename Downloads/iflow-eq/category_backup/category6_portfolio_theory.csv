title,equation_latex,main_category,notes
Expected Return,E[R] = sum_{i=1}^n w_i * E[R_i],Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation calculates the expected return of a portfolio. E[R] represents the portfolio expected return, w_i are the portfolio weights (summing to 1), and E[R_i] are the expected returns of individual assets. The portfolio return is the weighted average of individual asset returns.
Portfolio Variance,sigma^2_p = sum_{i=1}^n sum_{j=1}^n w_i * w_j * sigma_i * sigma_j * rho_ij,Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation calculates the variance of a portfolio. sigma^2_p represents the portfolio variance, w_i and w_j are portfolio weights, sigma_i and sigma_j are asset volatilities, and rho_ij is the correlation between assets i and j. Portfolio variance depends on both individual risks and correlations.
Portfolio Standard Deviation,sigma_p = sqrt(sigma^2_p),Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation calculates the standard deviation (volatility) of a portfolio. sigma_p represents the portfolio volatility, which is the square root of the portfolio variance. Volatility is the standard measure of portfolio risk.
Covariance,Cov(R_i, R_j) = E[(R_i - E[R_i]) * (R_j - E[R_j])],Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation defines the covariance between two assets. Cov(R_i, R_j) represents how asset returns move together. Positive covariance means returns tend to move in the same direction, while negative covariance means they move in opposite directions.
Correlation Coefficient,rho_ij = Cov(R_i, R_j) / (sigma_i * sigma_j),Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation calculates the correlation coefficient between two assets. rho_ij represents the correlation, Cov(R_i, R_j) is the covariance, and sigma_i and sigma_j are the standard deviations. Correlation ranges from -1 (perfect negative correlation) to +1 (perfect positive correlation).
Sharpe Ratio,Sharpe = (E[R_p] - R_f) / sigma_p,Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation calculates the Sharpe ratio, a measure of risk-adjusted return. Sharpe represents the excess return per unit of risk, E[R_p] is the portfolio expected return, R_f is the risk-free rate, and sigma_p is the portfolio volatility. Higher Sharpe ratios indicate better risk-adjusted performance.
Treynor Ratio,Treynor = (E[R_p] - R_f) / beta_p,Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation calculates the Treynor ratio, another measure of risk-adjusted return. Treynor represents the excess return per unit of systematic risk (beta), E[R_p] is the portfolio expected return, R_f is the risk-free rate, and beta_p is the portfolio beta. Treynor is appropriate for well-diversified portfolios.
Jensen's Alpha,alpha = R_p - (R_f + beta_p * (R_m - R_f)),Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation calculates Jensen's alpha, which measures portfolio performance relative to CAPM. alpha represents the excess return over the CAPM-predicted return, R_p is the actual portfolio return, R_f is the risk-free rate, beta_p is the portfolio beta, and R_m is the market return. Positive alpha indicates outperformance.
Information Ratio,IR = (R_p - R_b) / sigma_tracking,Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation calculates the information ratio, measuring active return per unit of tracking error. IR represents the information ratio, R_p is the portfolio return, R_b is the benchmark return, and sigma_tracking is the tracking error (standard deviation of active returns). Higher IR indicates better active management.
Tracking Error,sigma_tracking = sqrt(Var(R_p - R_b)),Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation calculates the tracking error of a portfolio relative to a benchmark. sigma_tracking represents the standard deviation of the difference between portfolio return R_p and benchmark return R_b. Tracking error measures how closely the portfolio follows its benchmark.
Capital Allocation Line,R_p = R_f + (E[R_m] - R_f) / sigma_m * sigma_p,Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation defines the Capital Allocation Line (CAL). R_p represents the return of a portfolio on the CAL, R_f is the risk-free rate, E[R_m] and sigma_m are the expected return and volatility of the market portfolio, and sigma_p is the portfolio volatility. CAL shows efficient combinations of risk-free and risky assets.
Capital Market Line,R_p = R_f + (E[R_m] - R_f) / sigma_m * sigma_p,Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation defines the Capital Market Line (CML), which is the CAL when the risky portfolio is the market portfolio. The CML represents the efficient frontier of all portfolios combining the risk-free asset and the market portfolio. All efficient portfolios lie on the CML.
Security Market Line,E[R_i] = R_f + beta_i * (E[R_m] - R_f),Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation defines the Security Market Line (SML) from CAPM. E[R_i] represents the expected return of asset i, R_f is the risk-free rate, beta_i is the asset's beta, and E[R_m] is the market expected return. The SML shows the relationship between systematic risk and expected return.
Beta,beta_i = Cov(R_i, R_m) / Var(R_m),Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation calculates the beta of an asset. beta_i represents the systematic risk of asset i, Cov(R_i, R_m) is the covariance between asset return and market return, and Var(R_m) is the market variance. Beta measures an asset's sensitivity to market movements.
Portfolio Beta,beta_p = sum_{i=1}^n w_i * beta_i,Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation calculates the beta of a portfolio. beta_p represents the portfolio beta, w_i are the portfolio weights, and beta_i are the individual asset betas. The portfolio beta is the weighted average of individual asset betas.
Efficient Frontier Optimization,min sigma^2_p subject to E[R_p] = target_return and sum w_i = 1,Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation defines the mean-variance optimization problem for finding the efficient frontier. The objective is to minimize portfolio variance subject to achieving a target return and the weights summing to 1. The efficient frontier contains all optimal portfolios.
Minimum Variance Portfolio,w_mvp = (Sigma^{-1} * 1) / (1' * Sigma^{-1} * 1),Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation calculates the weights of the global minimum variance portfolio. w_mvp represents the portfolio weights, Sigma is the covariance matrix, Sigma^{-1} is its inverse, and 1 is a vector of ones. The MVP is the portfolio with the lowest possible variance.
Tangency Portfolio,w_tan = (Sigma^{-1} * (E[R] - R_f * 1)) / (1' * Sigma^{-1} * (E[R] - R_f * 1)),Portfolio Theory and Risk Management - Modern Portfolio Theory,This equation calculates the weights of the tangency portfolio (maximum Sharpe ratio portfolio). w_tan represents the portfolio weights, Sigma is the covariance matrix, E[R] is the vector of expected returns, and R_f is the risk-free rate. The tangency portfolio is optimal for all investors.
Value at Risk (Parametric),VaR_alpha = mu_p - z_alpha * sigma_p,Portfolio Theory and Risk Management - Risk Metrics,This equation calculates the parametric (normal) VaR. VaR_alpha represents the maximum loss at confidence level alpha, mu_p is the portfolio mean return, z_alpha is the standard normal quantile (negative for VaR), and sigma_p is the portfolio volatility. VaR is a widely used risk measure.
Value at Risk (Historical),VaR_alpha = -percentile(returns, 1 - alpha),Portfolio Theory and Risk Management - Risk Metrics,This equation calculates the historical VaR. VaR_alpha represents the maximum loss at confidence level alpha, and percentile extracts the (1-alpha) quantile of historical returns. Historical VaR makes no distributional assumptions and is based on actual returns.
Expected Shortfall (CVaR),ES_alpha = E[Loss | Loss >= VaR_alpha],Portfolio Theory and Risk Management - Risk Metrics,This equation calculates Expected Shortfall (also called Conditional VaR or CVaR). ES_alpha represents the expected loss given that the loss exceeds VaR_alpha. ES is a coherent risk measure that considers tail risk beyond VaR.
Expected Shortfall (Normal),ES_alpha = mu_p - (phi(z_alpha) / (1 - alpha)) * sigma_p,Portfolio Theory and Risk Management - Risk Metrics,This equation calculates ES under the normal distribution. ES_alpha represents the expected shortfall, mu_p is the portfolio mean, phi(z_alpha) is the standard normal PDF at z_alpha, alpha is the confidence level, and sigma_p is the portfolio volatility. This formula provides a closed-form ES for normal returns.
Incremental VaR,IVaR_i = VaR_portfolio - VaR_without_i,Portfolio Theory and Risk Management - Risk Metrics,This equation calculates the incremental VaR of an asset. IVaR_i represents the change in portfolio VaR when asset i is removed. Incremental VaR helps identify which assets contribute most to portfolio risk. Positive IVaR means the asset increases risk.
Marginal VaR,MVaR_i = delta_VaR / delta_w_i = Cov(R_i, R_p) / sigma_p * z_alpha,Portfolio Theory and Risk Management - Risk Metrics,This equation calculates the marginal VaR of an asset. MVaR_i represents the sensitivity of VaR to a small change in weight w_i. Marginal VaR is proportional to the asset's contribution to portfolio volatility and is used for risk budgeting.
Component VaR,CVaR_i = w_i * MVaR_i,Portfolio Theory and Risk Management - Risk Metrics,This equation calculates the component VaR of an asset. CVaR_i represents the contribution of asset i to total portfolio VaR, w_i is the asset weight, and MVaR_i is the marginal VaR. The sum of all component VaRs equals the total portfolio VaR.
Risk Contribution,Risk_i = w_i * Cov(R_i, R_p) / sigma_p^2,Portfolio Theory and Risk Management - Risk Metrics,This equation calculates the risk contribution of an asset to portfolio variance. Risk_i represents the percentage contribution of asset i to total portfolio variance. Risk contributions sum to 100% and are used for performance attribution and risk budgeting.
Maximum Drawdown,MDD = max((Peak_t - Trough_t) / Peak_t),Portfolio Theory and Risk Management - Risk Metrics,This equation calculates the maximum drawdown of a portfolio. MDD represents the largest peak-to-trough decline, Peak_t is the portfolio value at a peak, and Trough_t is the lowest value after that peak. Drawdown measures the largest loss from a historical peak.
Average Drawdown,ADD = average of all drawdowns,Portfolio Theory and Risk Management - Risk Metrics,This equation calculates the average drawdown of a portfolio. ADD represents the average of all drawdowns over the period. Average drawdown complements maximum drawdown by providing information about typical loss severity.
Sterling Ratio,Sterling = (E[R_p] - R_f) / average_drawdown,Portfolio Theory and Risk Management - Risk Metrics,This equation calculates the Sterling ratio, a risk-adjusted return measure using average drawdown. Sterling represents the excess return per unit of average drawdown. It is particularly useful for strategies with significant tail risk.
Calmar Ratio,Calmar = (E[R_p] - R_f) / MDD,Portfolio Theory and Risk Management - Risk Metrics,This equation calculates the Calmar ratio, another risk-adjusted return measure. Calmar represents the excess return per unit of maximum drawdown. Calmar is widely used for evaluating hedge fund and managed futures performance.
Sortino Ratio,Sortino = (E[R_p] - R_f) / sigma_downside,Portfolio Theory and Risk Management - Risk Metrics,This equation calculates the Sortino ratio, which uses downside deviation instead of total volatility. Sortino represents the excess return per unit of downside risk. Sortino is preferred when investors are more concerned about downside risk than total volatility.
Downside Deviation,sigma_downside = sqrt(average of min(R_i - R_f, 0)^2),Portfolio Theory and Risk Management - Risk Metrics,This equation calculates the downside deviation. sigma_downside represents the standard deviation of returns below the risk-free rate. Downside deviation only considers negative excess returns, making it more relevant for risk-averse investors.
Omega Ratio,Omega(alpha) = E[max(R_p - alpha, 0)] / E[max(alpha - R_p, 0)],Portfolio Theory and Risk Management - Risk Metrics,This equation calculates the Omega ratio. Omega(alpha) represents the ratio of gains to losses relative to a threshold alpha. Omega considers the entire return distribution and is a comprehensive risk-return measure. Omega > 1 indicates positive expected excess returns.
Single-Factor Model,R_i = alpha_i + beta_i * R_m + epsilon_i,Portfolio Theory and Risk Management - Factor Models,This equation defines the single-factor (market) model. R_i represents the return of asset i, alpha_i is the asset-specific alpha, beta_i is the sensitivity to the market factor R_m, and epsilon_i is the idiosyncratic return with E[epsilon_i] = 0. The single-factor model decomposes returns into systematic and idiosyncratic components.
Multi-Factor Model,R_i = alpha_i + sum_{j=1}^k beta_ij * F_j + epsilon_i,Portfolio Theory and Risk Management - Factor Models,This equation defines a multi-factor model. R_i represents the return of asset i, alpha_i is the intercept, beta_ij are the factor loadings, F_j are the factor returns, and epsilon_i is the idiosyncratic return. Multi-factor models capture more sources of risk than single-factor models.
Fama-French Three-Factor Model,R_i = alpha_i + beta_i * (R_m - R_f) + s_i * SMB + h_i * HML + epsilon_i,Portfolio Theory and Risk Management - Factor Models,This equation defines the Fama-French three-factor model. R_i represents the return, beta_i is the market beta, s_i is the sensitivity to SMB (size factor), h_i is the sensitivity to HML (value factor), and epsilon_i is the idiosyncratic return. The model extends CAPM with size and value factors.
Carhart Four-Factor Model,R_i = alpha_i + beta_i * (R_m - R_f) + s_i * SMB + h_i * HML + m_i * MOM + epsilon_i,Portfolio Theory and Risk Management - Factor Models,This equation defines the Carhart four-factor model. R_i represents the return, beta_i is the market beta, s_i is the size sensitivity, h_i is the value sensitivity, m_i is the momentum sensitivity, and epsilon_i is the idiosyncratic return. The model adds a momentum factor to Fama-French.
Idiosyncratic Risk,sigma_epsilon_i^2 = Var(R_i) - beta_i^2 * Var(R_m),Portfolio Theory and Risk Management - Factor Models,This equation calculates the idiosyncratic (unsystematic) variance of an asset. sigma_epsilon_i^2 represents the variance of the asset-specific return, Var(R_i) is the total variance, beta_i is the beta, and Var(R_m) is the market variance. Idiosyncratic risk can be diversified away.
Systematic Risk,sigma_systematic^2 = beta_i^2 * Var(R_m),Portfolio Theory and Risk Management - Factor Models,This equation calculates the systematic variance of an asset. sigma_systematic^2 represents the variance due to market movements, beta_i is the beta, and Var(R_m) is the market variance. Systematic risk cannot be diversified away and is compensated by expected returns.
R-squared,R^2 = 1 - Var(epsilon_i) / Var(R_i),Portfolio Theory and Risk Management - Factor Models,This equation calculates the R-squared of a factor model. R^2 represents the proportion of return variance explained by the factor model. R^2 close to 1 indicates that the factor model explains most of the return variation.
Tracking Error Volatility,TEV = sqrt(Var(R_p - R_b)),Portfolio Theory and Risk Management - Factor Models,This equation calculates the tracking error volatility. TEV represents the standard deviation of the active return (difference between portfolio return R_p and benchmark return R_b). TEV measures the active risk taken by the portfolio manager.
Active Share,Active Share = 0.5 * sum |w_p,i - w_b,i|,Portfolio Theory and Risk Management - Factor Models,This equation calculates the active share of a portfolio. Active Share represents the sum of absolute differences between portfolio weights w_p,i and benchmark weights w_b,i, divided by 2. Active Share measures how much the portfolio differs from its benchmark.
Rolling Beta,beta_rolling = Cov_rolling(R_i, R_m) / Var_rolling(R_m),Portfolio Theory and Risk Management - Factor Models,This equation calculates the rolling beta over a window. beta_rolling represents the time-varying beta estimated from rolling covariance and variance. Rolling beta captures how systematic risk changes over time.
Risk Parity,w_i = 1 / sigma_i / sum_{j=1}^n (1 / sigma_j),Portfolio Theory and Risk Management - Risk Management,This equation calculates the weights for a risk parity portfolio. w_i represents the weight of asset i, sigma_i is the volatility, and the denominator normalizes the weights. Risk parity equalizes risk contributions across assets, not capital allocations.
Equal Risk Contribution,ERC_i = w_i * Cov(R_i, R_p) / sigma_p^2 = 1 / n,Portfolio Theory and Risk Management - Risk Management,This equation defines the equal risk contribution condition. ERC_i represents the risk contribution of asset i, which should equal 1/n for all assets in an n-asset portfolio. ERC is a more general form of risk parity that accounts for correlations.
Risk Budgeting,Target Risk Contribution_i = b_i * sigma_p^2,Portfolio Theory and Risk Management - Risk Management,This equation defines the risk budgeting condition. Target Risk Contribution_i represents the desired risk contribution of asset i, and b_i are the risk budget weights (summing to 1). Risk budgeting allows investors to allocate risk, not just capital, across assets.
Kelly Criterion,f = (mu - R_f) / sigma^2,Portfolio Theory and Risk Management - Risk Management,This equation calculates the optimal fraction of capital to invest (Kelly criterion). f represents the optimal fraction, mu is the expected excess return, and sigma^2 is the variance. The Kelly criterion maximizes the expected logarithmic utility and long-term growth rate.