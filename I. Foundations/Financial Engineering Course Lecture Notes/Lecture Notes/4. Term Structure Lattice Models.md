---
parent_directory: Financial Engineering Course Lecture Notes
title: "Lecture 4 - Term Structure Lattice Models"
tags:
aliases:
  - "Term Structure Lattice Models"
parent_folder: Financial Engineering Course Lecture Notes
subfolder:
key_concepts:
cssclasses: academia
linter-yaml-title-alias: "Lecture 4 - Term Structure Lattice Models"
---

# Term Structure Lattice Models

These lecture notes introduce fixed income derivative securities and the modeling philosophy used to price these securities. We will use binomial lattice models for doing this and the securities we will consider include bond futures and forwards, caplets and caps, floorlets and floors, and swaps and swaptions.

Fixed-income models are inherently more complex than security models as we need to model the evolution of the entire term-structure of interest rates. The short-rate,  $r_t$ , is the variable of interest in many fixed income models and we will focus on this in our lattice models. Our pricing "philosophy" will be to simply specify risk-neutral probabilities for the short-rate,  $r_t$ , and to do so without any reference to the true dynamics of the short-rate. This is in contrast to the way we developed risk-neutral pricing in the binomial model for stocks. In the lattice models of these notes, however, we will will price securities in such a way that guarantees no-arbitrage.

We also note that since the financial crisis of 2008 / 2009 there have been substantial developments in term structure modeling. In particular (and in contrast to the pre-crisis world) it is now widely recognized that the pricing of LIBOR-based derivatives such as swaps, swaptions, caps, floors etc. require a so-called multi-curve framework with a separate curve necessary for each tenor. We do not develop the multi-curve framework in these notes as our goal is simply to learn the basics of term structure modeling and fixed income derivatives pricing.

# 1 Binomial-Lattice Models

We begin with binomial-lattice models of the short rate. These models may be viewed as models in their own right or as approximations to more sophisticated continuous-time one-factor short-rate models. These models will also be used to introduce various interest rate derivatives that are commonly traded in the financial markets.

# 1.1 Constructing an Arbitrage-Free Lattice

Consider the binomial lattice below where we specify the short rate, ri,j, that will apply for the single period beginning at node N(i,j). This means for example that if \$1 is deposited in the cash account at t = i, state j, (i.e. node N(i,j), then this deposit will be worth $(1 + ri,j) at time t + 1 regardless of the successor node to N(i,j).

![](https://cdn-mineru.openxlab.org.cn/result/2025-11-29/aa9215fe-8e40-485a-86fd-2aa71c1d8eb4/1bad8a933ddadeacddfb293b7fd1d608488aea45c86646f7269bf2d40c609d96.jpg)

We use martingale pricing on this lattice to compute security prices. For example, if  $S_{i}(j)$  is the value of a non-dividend / coupon<sup>1</sup> paying security at time  $i$  and state  $j$ , then we insist that

$$
S _ {i} (j) = \frac {1}{1 + r _ {i , j}} \left[ q _ {u} S _ {i + 1} (j + 1) + q _ {d} S _ {i + 1} (j) \right] \tag {1}
$$

where  $q_{u}$  and  $q_{d}$  are the probabilities of upand down-moves, respectively. If the security pays a coupon should be included in the right-hand side of (1). Such a model is arbitrage-free by construction.

# 1.2 Computing the Term-Structure from the Lattice

It is easy to compute the price of a zero-coupon bond once the EMM,  $Q$ , (with the cash account as numeraire) and the short-rate lattice are specified. In the short rate-lattice below (where the short rate increases by a factor of  $u = 1.25$  or decreases by a factor of  $d = .9$  in each period), we assume that the  $Q$ -probability of each branch is .5 and node-independent. We can then use martingale-pricing to compute the prices of zero-coupon bonds.

<table><tr><td colspan="4">Short Rate Lattice</td><td colspan="2">0.183</td></tr><tr><td></td><td></td><td></td><td>0.146</td><td>0.132</td><td></td></tr><tr><td></td><td></td><td>0.117</td><td>0.105</td><td>0.095</td><td></td></tr><tr><td></td><td>0.075</td><td>0.084</td><td>0.076</td><td>0.068</td><td></td></tr><tr><td>t=0</td><td>t=1</td><td>t=2</td><td>t=3</td><td>t=4</td><td>t=5</td></tr></table>

# Example 1 (Pricing a Zero-Coupon Bond)

We compute the price of a 4-period zero-coupon bond with face value 100 that expires at  $t = 4$ . Assuming the short-rate lattice is as given above, we see, for example, that the bond price at node (2,2) is given by

$$
8 3. 0 8 = \frac {1}{1 + . 0 9 4} \left[ \frac {1}{2} 8 9. 5 1 + \frac {1}{2} 9 2. 2 2 \right].
$$

Iterating backwards, we find that the zero-coupon bond is worth 77.22 at  $t = 0$ .

<table><tr><td colspan="3">4-Year Zero</td><td colspan="2">100.00</td></tr><tr><td></td><td></td><td>89.51</td><td>100.00</td><td></td></tr><tr><td></td><td>79.27</td><td>87.35</td><td>92.22</td><td>100.00</td></tr><tr><td>77.22</td><td>84.43</td><td>90.64</td><td>94.27</td><td>100.00</td></tr><tr><td>t=0</td><td>t=1</td><td>t=2</td><td>t=3</td><td>t=4</td></tr></table>

Note that given the price of the 4-period zero-coupon bond, we can now find the 4-period spot rate,  $s_4$ . It satisfies  $77.22 = 1 / (1 + s_4)^4$  if we quote spot rates on a per-period basis. In this manner we can construct the entire term-structure by evaluating zero-coupon bond prices for all maturities.

# 1.3 Pricing Interest Rate Derivatives

We now introduce and price several interest-rate derivatives using the straightforward martingale pricing methodology. (After we derive the forward equations in a later section, we will see an even easier and more efficient $^2$  method for pricing derivatives.) The following examples will be based on the short-rate lattice and the corresponding zero-coupon bond of Example 1.

# Example 2 (Pricing a European Call Option on a Zero-Coupon Bond)

We want to compute the price of a European call option on the zero-coupon bond of Example 1 that expires at t = 2 and has strike \$84. The option price of \$2.97 is computed by backwards induction on the lattice below.

<table><tr><td></td><td colspan="2">0.00</td><td>European Call Option</td></tr><tr><td></td><td>1.56</td><td>3.35</td><td>Strike = \$84</td></tr><tr><td>2.97</td><td>4.74</td><td>6.64</td><td></td></tr><tr><td>t=0</td><td>t=1</td><td>t=2</td><td></td></tr></table>

# Example 3 (Pricing an American Put Option on a Zero-Coupon Bond)

We want to compute the price of an American put option on the same zero-coupon bond. The expiration date is \( t = 3 \) and the strike is \( \\(88 \). Again the price is computed by backwards induction on the lattice below, where the maximum of the continuation value and exercise value is equal to the option value at each node.

<table><tr><td></td><td></td><td colspan="2">0.00</td></tr><tr><td></td><td>4.92</td><td>0.00</td><td>American Put Option</td></tr><tr><td></td><td>8.73</td><td>0.65</td><td>Strike = \$88</td></tr><tr><td>10.78</td><td>3.57</td><td>0.00</td><td></td></tr><tr><td>t=0</td><td>t=1</td><td>t=2</td><td>t=3</td></tr></table>

# Futures Contracts on Bonds

Let  $F_{k}$  be the date  $k$  price of a futures contract written on a particular underlying security in a complete<sup>3</sup> market model. We assume that the contract expires after  $n$  periods and we let  $S_{k}$  denote the time  $k$  price of the security. Then we know that  $F_{n} = S_{n}$ , i.e., at expiration the futures price and the security price must coincide. We can compute the futures price at  $t = n - 1$  by recalling that anytime we enter a futures contract, the initial value of the contract is 0. Therefore the futures price,  $F_{n - 1}$ , at date  $t = n - 1$  must satisfy

$$
{ 0 } { = } { \mathrm { E } _ { n - 1 } ^ { Q } \left[ \frac { F _ { n } - F _ { n - 1 } } { B _ { n } } \right] }
$$

where we will assume that the numeraire security is the cash account with value  $B_{n}$  at date  $n$ . Since  $B_{n}$  and  $F_{n-1}$  are both known at date  $t = n-1$ , we therefore have  $F_{n-1} = \mathrm{E}_{n-1}^{Q}[F_{n}]$ . By the same argument, we also have more generally that  $F_{k} = \mathrm{E}_{k}^{Q}[F_{k+1}]$  for  $0 \leq k < n$ . We can then use the law of iterated expectations to see that  $F_{0} = \mathrm{E}_{0}^{Q}[F_{n}]$ , implying in particular that the futures price process is a martingale. Since  $F_{n} = S_{n}$  we have

$$
F _ {0} = \mathrm {E} _ {0} ^ {Q} [ S _ {n} ]. \tag {2}
$$

Remark 1 Note that the above argument holds regardless of whether or not the underlying security pays dividends or coupons as long as the settlement price,  $S_{n}$ , is ex-dividend. In particular, we can use (2) to price futures on zero-coupon and coupon bearing bonds.

Remark 2 It is important to note that (2) applies only when the EMM,  $Q$ , is the EMM corresponding to when the cash account is numeraire.

# Forward Contracts on Bonds

Now let us consider the date 0 price,  $G_0$ , of a forward contract for delivery of the same security at the same date,  $t = n$ . We recall that  $G_0$  is chosen in such a way that the contract is initially worth zero. In particular, martingale pricing implies

$$
0 = \mathrm {E} _ {0} ^ {Q} \left[ \frac {S _ {n} - G _ {0}}{B _ {n}} \right].
$$

Rearranging terms and using the fact that  $G_0$  is known at date  $t = 0$  we obtain

$$
G _ {0} = \frac {\mathrm {E} _ {0} ^ {Q} \left[ S _ {n} / B _ {n} \right]}{\mathrm {E} _ {0} ^ {Q} \left[ 1 / B _ {n} \right]} \tag {3}
$$

Remark 3 If  $B_n$  and  $S_n$  are  $Q$ -independent, then  $G_0 = F_0$ . In particular, if interest rates are deterministic, we have  $G_0 = F_0$ .

Remark 4 If the underlying security does not pay dividends or coupons (storage costs may be viewed as negative dividends), then we obtain  $G_0 = S_0 / \mathrm{E}_0^Q [1 / B_n] = S_0 / d(0,n)$ .

# Example 4 (Pricing a Forward Contract on a Coupon-Bearing Bond)

We now price a forward contract for delivery at  $t = 4$  of a 2-year  $10\%$  coupon-bearing bond where we assume that delivery takes place just after a coupon has been paid. In the lattice below we use backwards induction to compute the  $t = 4$  price (ex-coupon) of the bond. We then use (3) to price the contract, with the numerator given by the value at node  $(0,0)$  of the lattice and the denominator equal to the 4-year discount factor. Note that between  $t = 0$  and  $t = 4$  in the lattice below, coupons are (correctly) ignored.

<table><tr><td></td><td></td><td></td><td></td><td></td><td></td><td>110.00</td></tr><tr><td></td><td></td><td></td><td></td><td>| 91.66</td><td>107.19</td><td>110.00</td></tr><tr><td></td><td></td><td>85.08</td><td>| 98.44</td><td>110.46</td><td>110.00</td><td></td></tr><tr><td></td><td rowspan="2">79.99</td><td>81.53</td><td>93.27</td><td>103.83</td><td>112.96</td><td>110.00</td></tr><tr><td></td><td>90.45</td><td>99.85</td><td>108.00</td><td>114.84</td><td>110.00</td></tr><tr><td>79.83</td><td>89.24</td><td>97.67</td><td>104.99</td><td>111.16</td><td>116.24</td><td>110.00</td></tr><tr><td>t=0</td><td>t=1</td><td>t=2</td><td>t=3</td><td>t=4</td><td>t=5</td><td>t=6</td></tr><tr><td colspan="7">Forward Price = 100*79.83 / 77.22 = 103.38</td></tr></table>

# Example 5 (Pricing a Futures Contract on a Coupon-Bearing Bond)

The  $t = 0$  price of a futures contract expiring at  $t = 4$  on the same coupon-bearing bond is given at node  $(0,0)$  in the lattice below. This lattice is constructed using (2). Note that the forward and futures price are close but not equal.

<table><tr><td colspan="3">Futures Price</td><td colspan="2">91.66</td></tr><tr><td></td><td></td><td>95.05</td><td>98.44</td><td></td></tr><tr><td></td><td>98.09</td><td>101.14</td><td>103.83</td><td></td></tr><tr><td rowspan="2">103.22</td><td>100.81</td><td>103.52</td><td>105.91</td><td>108.00</td></tr><tr><td>105.64</td><td>107.75</td><td>109.58</td><td>111.16</td></tr><tr><td>t=0</td><td>t=1</td><td>t=2</td><td>t=3</td><td>t=4</td></tr></table>

# Example 6 (Pricing a Caplet)

A caplet is similar to a European call option on the interest rate  $r_t$ . They are usually settled in arrears but they may also be settled in advance. If the maturity is  $\tau$  and the strike is  $c$  then the payoff of a caplet (settled in arrears) at time  $\tau$  is  $(r_{\tau - 1} - c)^+$ . That is, the caplet is a call option on the short rate prevailing at time  $\tau - 1$ , settled at time  $\tau$ .

In the lattice below we price a caplet that expires at  $t = 6$  with strike  $= 2\%$ . Note, however, that it is easier to record the time 6 cash flows at their time 5 predecessor nodes, discounting them appropriately. For example, the value at node  $N(4,0)$  is given by

$$
0. 0 2 1 = \frac {1}{1 . 0 3 9} \left[ \frac {1}{2} \frac {\max (0 , . 0 4 9 - . 0 2)}{1 . 0 4 9} + \frac {1}{2} \frac {\max (0 , . 0 3 5 - . 0 2)}{1 . 0 3 5} \right].
$$

<table><tr><td colspan="6">Caplet Strike = 2%</td></tr><tr><td></td><td></td><td></td><td></td><td></td><td>0.138</td></tr><tr><td></td><td></td><td></td><td></td><td>0.103</td><td>0.099</td></tr><tr><td></td><td></td><td></td><td>0.080</td><td>0.076</td><td>0.068</td></tr><tr><td></td><td></td><td>0.064</td><td>0.059</td><td>0.053</td><td>0.045</td></tr><tr><td></td><td>0.052</td><td>0.047</td><td>0.041</td><td>0.035</td><td>0.028</td></tr><tr><td>0.042</td><td>0.038</td><td>0.032</td><td>0.026</td><td>0.021</td><td>0.015</td></tr><tr><td>t=0</td><td>t=1</td><td>t=2</td><td>t=3</td><td>t=4</td><td>t=5</td></tr></table>

Remark 5 In practice caplets are usually based on LIBOR (London Inter-Bank Offered Rates).

Caps: A cap is a string of caplets, one for each time period in a fixed interval of time and with each caplet having the same strike price,  $c$ .

Floorlets: A floorlet is similar to a caplet, except it has payoff  $(c - r_{\tau -1})^+$  and is usually settled in arrears at time  $\tau$

Floors: A floor is a string of floorlets, one for each time period in a fixed interval of time and with each floorlet having the same strike price,  $c$ .

# 2 The Forward Equations

Definition 1 Let  $P_{e}(i,j)$  denote the time 0 price of a security that pays \$1 at time i, state j and 0 at every other time and state. We say such a security is an elementary security and we refer to the  $P_{e}(i,j)'s$  as state prices.

It is easily seen that the elementary security prices satisfy the forward equations:

$$
\begin{array}{l} P _ {e} (k + 1, s) = \frac {P _ {e} (k , s - 1)}{2 (1 + r _ {k , s - 1})} + \frac {P _ {e} (k , s)}{2 (1 + r _ {k , s})}, \quad 0 <   s <   k + 1 \\ P _ {e} (k + 1, 0) = \frac {1}{2} \frac {P _ {e} (k , 0)}{(1 + r _ {k , 0})} \\ P _ {e} (k + 1, k + 1) = \frac {1}{2} \frac {P _ {e} (k , k)}{(1 + r _ {k , k})} \\ \end{array}
$$

Exercise 1 Derive the forward equations.

Since we know  $P_{e}(0,0) = 1$  we can use the above equations to evaluate all the state prices by working forward from node  $N(0,0)$ . Working with state prices has a number of advantages:

1. Once you compute the state prices they can be stored and used repeatedly for pricing derivative securities without needing to use backwards iteration each time.  
2. In particular, the term structure can be computed using  $O(T^{2})$  operations by first computing the state prices. In contrast, computing the term structure by first computing all zero-coupon bond prices using backwards iteration takes  $O(T^{3})$  operations. While this makes little difference given today's computing power, writing code to price derivatives in lattice models is often made easier when we price with the state prices.  
3. They can be useful for calibrating lattice models to observed market data.

It should be noted that when pricing securities with an early exercise feature, state prices are of little help and it is still necessary to use backwards iteration.

# 2.1 Hedging in the Binomial Lattice

It is very easy to hedge in a binomial-lattice model. For example, if we wish to hedge a payoff that occurs at  $t = s$ , then we can use any two securities (that do not expire before  $t = s$ ) to do this. In particular, we could use the cash account and a zero-coupon bond with maturity  $t > s$  as our hedging instruments. At each node and time, we simply choose our holdings in the cash account and zero-coupon bond so that their combined value one period later exactly matches the value of the payoff to be hedged. This of course is exactly analogous to hedging in the classic binomial model for stocks.

That we can hedge with just two securities betrays a weakness of the binomial lattice model and 1-factor short-rate models more generally. In practice, the value of an interest-rate derivative will be sensitive to changes in the entire term-structure and it is unlikely that such changes can be perfectly hedged using just two securities. It is possible in some circumstances, however, that good approximate hedges can be found using just two securities. In the example below, we hedge using elementary securities.

Example 7 (a) Consider the short rate lattice of Figure 4.1 where interest rates are expressed as percentages. You may assume the risk-neutral probabilities are given by  $q = 1 - q = 1/2$  at each node.

![](https://cdn-mineru.openxlab.org.cn/result/2025-11-29/aa9215fe-8e40-485a-86fd-2aa71c1d8eb4/2b76aff2d3cb6bd2e034a186ae97e4202391a3d6c72586628c0e7ee8985c7e46.jpg)  
Figure 4.1

Use the forward equation to compute the elementary prices at times  $t = 0$ ,  $t = 1$  and  $t = 2$ .

(b) Consider the different short rate lattice of Figure 4.2 where again you may assume q = 1 - q = 1/2. The short rates and elementary prices are given at each node. Using only the elementary prices, find the price of a zero-coupon bond with face value \$100 that matures at t = 3.  
 (c) Compute the price of a European call option on the zero-coupon bond of part (b) with strike = \$93 and expiration date t = 2.  
 (d) Again referring to Figure 4.2, suppose you have an obligation whose value today is \$100 and whose value at node (1,1) (i.e. when r = 7.2%) is \$95. Explain how you would immunize this obligation using date 1 elementary securities?  
 (e) Consider a forward-start swap that begins at t = 1 and ends at t = 3. The notional principal is \$1 million, the fixed rate in the swap is 5%, and payments at t = i (i=2,3) are based on the fixed rate minus the floating rate that prevailed at t = i - 1. Compute the value of this forward swap.

![](https://cdn-mineru.openxlab.org.cn/result/2025-11-29/aa9215fe-8e40-485a-86fd-2aa71c1d8eb4/9e8228679895fad54aac8da669591000fc1560fccf3480b064b11b850dee9dc3.jpg)  
Figure 4.2

$$
t = 0
$$

$$
t = 1
$$

$$
t = 2
$$

$$
t = 3
$$

# Solution

(a)  $P_{e}(0,0) = 1$ ,  $P_{e}(1,0) = .4717$ ,  $P_{e}(1,1) = .4717$ ,  $P_{e}(2,0) = 0.2238$ ,  $P_{e}(2,1) = 0.4426$ ,  $P_{e}(2,2) = 0.2188$ .  
(b)  $(.1013 + .3096 + .3151 + .1067)\times 100 = 83.27.$  
(c) The value of the zero coupon bond at nodes  $(2,0)$ ,  $(2,1)$  and  $(2,2)$  are 95.3652, 93.9144 and 92.0471 respectively. This means the payoffs of the option are 2.3652, .9144 and 0 respectively. Now use the time 2

elementary prices to find that the option price equals  $2.3652 \times .2238 + .9144 \times .4438 = .9351$ .

(d) First find the value,  $x$ , of the obligation at node  $(1,0)$ . It must be that  $x$  satisfies

$$
1 0 0 = \frac {1}{2} \frac {9 5}{1 . 0 6} + \frac {1}{2} \frac {x}{1 . 0 6}
$$

which implies  $x = 117$ . So to hedge the obligation, buy 95 node (1,1) state securities and 117 node (1,0) state securities. The cost of this is  $117 \times .4717 + 95 \times .4717 = 100$ , of course!

(e) The value of the swap today is (why?)

$$
\begin{array}{l} (. 0 2 2 / 1. 0 7 2 \times . 4 7 1 7) + (. 0 0 4 / 1. 0 5 4 \times . 4 7 1 7) + (. 0 3 6 4 / 1. 0 8 6 4 \times . 2 2) + \\ (. 0 1 4 8 / 1. 0 6 4 8 \times . 4 4 3 8) - (. 0 0 1 4 / 1. 0 4 8 6 \times . 2 2 3 8) = 0. 0 2 4 7 \text {m i l l i o n}. \\ \end{array}
$$

# 3 Some Specific Models

If we want to use a lattice model in practice then we need to calibrate the model to market data. The most basic requirement is that the term-structure (equivalently zero-coupon bond prices) in the market should also match the term-structure of the lattice model. We now show how this can be achieved in the context of two specific models, the Ho-Lee model and the Black-Derman-Toy (BDT) model. More generally, we could also calibrate the lattice to interest-rate volatilities and other security prices.

We will assume<sup>4</sup> again that the  $Q$ -probabilities are equal to .5 on each branch and are node independent. First we describe the Ho-Lee and Black-Derman-Toy models.

# 3.1 The Ho-Lee Model

The Ho-Lee model assumes that the interest rate at node  $N(i,j)$  is given by

$$
r _ {i, j} = a _ {i} + b _ {i} j.
$$

Note that  $a_{i}$  is a drift parameter while  $b_{i}$  is a volatility parameter. In particular, the standard deviation of the short-rate at node  $N(i,j)$  is equal to  $b_{i}/2$ . The continuous-time version of the Ho-Lee model assumes that the short-rate dynamics satisfy

$$
d r _ {t} = \mu_ {t} d t + \sigma_ {t} d W _ {t}.
$$

The principal strength of the Ho-Lee model is its tractability.

Exercise 2 What are the obvious weaknesses of the Ho-Lee model?

# 3.2 The Black-Derman-Toy Model

The BDT model assumes that the interest rate at node  $N(i,j)$  is given by

$$
r _ {i, j} = a _ {i} e ^ {b _ {i} j}.
$$

Note that  $\log (a_i)$  is a drift parameter while  $b_{i}$  is a volatility parameter (for  $\log (r)$ ). The continuous-time version of the BDT model assumes that the short-rate has dynamics of the form

$$
d Y _ {t} = \left(a _ {t} + \frac {1}{\sigma_ {t}} \frac {\partial \sigma}{\partial t} Y _ {t}\right) d t + \sigma_ {t} d W _ {t}
$$

where  $Y_{t}\coloneqq \log (r_{t})$

Exercise 3 What are some of the strengths and weaknesses of the BDT model?

# 3.3 Calibration to the Observed Term-Structure

Consider an  $n$ -period lattice and let  $(s_1, \ldots, s_n)$  be the term-structure observed in the market place assuming that spot rates are compounded per period. Suppose we want to calibrate the BDT model to the observed term-structure. Assuming  $b_i = b$ , a constant for all  $i$ , we first note that

$$
\begin{array}{l} {\frac {1}{(1 + s _ {i}) ^ {i}}} = {\sum_ {j = 0} ^ {i} P _ {e} (i, j)} \\ = \frac {P _ {e} (i - 1 , 0)}{2 \left(1 + a _ {i - 1}\right)} + \sum_ {j = 1} ^ {i - 1} \left(\frac {P _ {e} (i - 1 , j)}{2 \left(1 + a _ {i - 1} e ^ {b j}\right)} + \frac {P _ {e} (i - 1 , j - 1)}{2 \left(1 + a _ {i - 1} e ^ {b (j - 1)}\right)}\right) + \frac {P _ {e} (i - 1 , i - 1)}{2 \left(1 + a _ {i - 1} e ^ {b (i - 1)}\right)}. \tag {4} \\ \end{array}
$$

Note that Equation (4) can now be used to solve iteratively for the  $a_i$ 's as follows:

- Set  $i = 1$  in (4) and note that  $P_{e}(0,0) = 1$  to see that  $a_0 = s_1$ .  
- Now use the forward equations to find  $P_{e}(1,0)$  and  $P_{e}(1,1)$ .  
- Now set  $i = 2$  in (4) and solve for  $a_1$ .  
- Continue to iterate forward until all  $a_i$ 's have been found.

By construction, this algorithm will match the observed term structure to the term structure in the lattice.

# Example 8 (Pricing a Payer Swaption in a BDT Model)

We would like to price a 2 - 8 payer swaption in a BDT model that has been calibrated to match the observed term-structure of interest rates in the market place. The 2 - 8 terminology means that the swaption is an option that expires in 2 months to enter an 8-month swap. The swap is settled in arrears so that payments would take place in months 3 through 10 based on the prevailing short-rate of the previous months. The "payer" feature of the option means that if the option is exercised, the exerciser "pays fixed and receives floating". (The owner of a receiver swaption would "receive fixed and pay floating".) For this problem the fixed rate is set at  $11.65\%$ .

We use a 10-period lattice for our BDT model, thereby assuming that a single period corresponds to 1 month. The spot-rate curve in the market place has been observed to be

$$
s _ {1} = 7. 3, \quad s _ {2} = 7. 6 2, \quad s _ {3} = 8. 1, \quad s _ {4} = 8. 4 5, \quad s _ {5} = 9. 2
$$

$$
s _ {6} = 9. 6 4, \quad s _ {7} = 1 0. 1 2, \quad s _ {8} = 1 0. 4 5, \quad s _ {9} = 1 0. 7 5, \quad s _ {1 0} = 1 1. 2 2
$$

with a monthly compounding convention. We will also assume that  $b_{i} = b = .005$  for all  $i$ .

The first step is to choose the  $a_i$ 's so that the term-structure in the lattice matches the observed term-structure (spot-rate curve) given above. For a 10-period problem, this is easy to do in Excel using the Solver add-in. For problems with many periods, however, it would be preferable to use the algorithm outlined above. The short-rate lattice below gives the values of  $a_i$ ,  $i = 0, \ldots, 9$ , so that the model spot-rate curve matches the market spot-rate curve. (Note also that the short-rates at each node  $N(i,j)$  do indeed satisfy  $r_{i,j} = a_i e^{-005j}$ .)

We are now in a position to price the swaption, assuming a notional principal of \$1. Let S2 denote the value of the swap at t = 2. We can compute S2 by discounting the cash-flows back from t = 10 to t = 2. It is important to note that it is much easier to record time t cash flows (for t = 3,â€¦, 10) at their predecessor nodes at time t - 1, discounting them appropriately. This is why in the swaption lattice above, there are no payments recorded at t = 10 despite the fact that payments do actually take place then.

Exercise 4 Why is it more convenient to record those cashflows at their predecessor nodes?

The option is then exercised if and only if  $S_{2} > 0$ . In particular, the value of the swaption at maturity  $(t = 2)$  is  $\max(0, S_{2})$ . This is then discounted backwards to  $t = 0$  to find a swaption value today of .0013.

<table><tr><td rowspan="8"></td><td colspan="9">Short-Rate Lattice</td><td>13.45</td><td>15.82</td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td>13.01</td><td>13.38</td><td>15.74</td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td>13.24</td><td>12.94</td><td>13.32</td><td>15.66</td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td>12.02</td><td>13.18</td><td>12.88</td><td>13.25</td><td>15.58</td><td></td><td></td></tr><tr><td></td><td></td><td></td><td>9.58</td><td>12.38</td><td>11.96</td><td>13.11</td><td>12.81</td><td>13.18</td><td>15.50</td><td></td></tr><tr><td></td><td></td><td>9.11</td><td>9.53</td><td>12.31</td><td>11.90</td><td>13.05</td><td>12.75</td><td>13.12</td><td>15.43</td><td></td></tr><tr><td></td><td>7.96</td><td>9.07</td><td>9.48</td><td>12.19</td><td>11.78</td><td>12.92</td><td>12.62</td><td>12.99</td><td>15.27</td><td></td></tr><tr><td>7.30</td><td>7.92</td><td>9.02</td><td>9.44</td><td>12.13</td><td>11.72</td><td>12.85</td><td>12.56</td><td>12.92</td><td>15.20</td><td></td></tr><tr><td>Year</td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td></td></tr><tr><td>Spot</td><td>7.3</td><td>7.62</td><td>8.1</td><td>8.45</td><td>9.2</td><td>9.64</td><td>10.12</td><td>10.45</td><td>10.75</td><td>11.22</td><td></td></tr><tr><td>a</td><td>7.30</td><td>7.92</td><td>9.02</td><td>9.44</td><td>12.13</td><td>11.72</td><td>12.85</td><td>12.56</td><td>12.92</td><td>15.20</td><td></td></tr><tr><td></td><td colspan="9">Pricing a 2-8 Payer Swaption</td><td>0.0366</td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>0.0479</td><td>0.0360</td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>0.0539</td><td>0.0467</td><td>0.0353</td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>0.0610</td><td>0.0523</td><td>0.0456</td><td>0.0347</td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td>0.0568</td><td>0.0590</td><td>0.0508</td><td>0.0444</td><td>0.0340</td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td>0.0560</td><td>0.0546</td><td>0.0571</td><td>0.0492</td><td>0.0433</td><td>0.0334</td><td></td></tr><tr><td></td><td></td><td></td><td></td><td>10.0311</td><td>0.0535</td><td>0.0524</td><td>0.0552</td><td>0.0477</td><td>0.0422</td><td>0.0327</td><td></td></tr><tr><td></td><td></td><td>0.0040</td><td>10.0284</td><td>0.0511</td><td>0.0502</td><td>0.0533</td><td>0.0461</td><td>0.0411</td><td>0.0321</td><td></td><td></td></tr><tr><td></td><td>0.0024</td><td>0.0011</td><td>10.0257</td><td>0.0486</td><td>0.0480</td><td>0.0514</td><td>0.0446</td><td>0.0399</td><td>0.0314</td><td></td><td></td></tr><tr><td></td><td>0.0013</td><td>0.0005</td><td>10.0230</td><td>0.0461</td><td>0.0458</td><td>0.0495</td><td>0.0431</td><td>0.0388</td><td>0.0308</td><td></td><td></td></tr><tr><td>Year</td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td></td></tr></table>

A related derivative instrument that is commonly traded is a Bermudan swaption (payer or receiver). This is the same as a swaption except now the option can be exercised at any of a predetermined set of times,

$$
\mathcal {T} = (t _ {1}, \dots , t _ {m}).
$$